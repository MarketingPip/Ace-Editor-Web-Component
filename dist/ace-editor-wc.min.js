/**! * @license Ace-Editor-Web-Component - A web component to easily add a code editor or editor(s) to your HTML document * VERSION: 1.0.0 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Ace-Editor-Web-Component */ class AceEditorWC extends HTMLElement{connectedCallback(){const e=this.getAttribute("language");if(!e)return this.innerHTML='\x3c!--compress--\x3e<div class="ace-editor-component">\n \n<div class="ace-editor-wc"><div class="ace-editor-wc-pane"><div class="ace-editor-wc-title">Error!</div>\n \n</div><div id="code_editor_text_value" class="ace-editor-wc-text" style="">Error: Language Attribute Is Missing For Web Component ...\n</div>\n \n</div>\n \x3c!--endcompress--\x3e\n ';this.spellcheck=!1,this.editorTitle=e,this.getAttribute("editor-title")&&(this.editorTitle=this.getAttribute("editor-title")),this.innerHTML=` \n \n \x3c!--compress--\x3e\n \n<div class="ace-editor-component">\n\n<div class="ace-editor-wc"><div class="ace-editor-wc-pane"><div class="ace-editor-wc-title">${this.editorTitle}</div>\n<div class="ace-editor-wc-mask">Copied to the clipboard.</div>\n<div class="ace-editor-wc-ctrl">\n<button class="ck-button"><img src="https://lyricat.github.io/code-knack/demo/lib/code-knack/images/icon-copy-dark.svg"><span>copy</span></button></div>\n</div><div id="code_editor_text_value" class="ace-editor-wc-text">${this.innerHTML}</div>\n</div>\n</div>\n \n \x3c!--endcompress--\x3e\n `,async function(e){"true"===(await loadAceEditor()).loaded&&CreateAceEditor(e,e.getAttribute("language").toLowerCase())}(this),this.querySelector(".ck-button").addEventListener("click",(e=>function(e){const t=ace.edit(e.querySelector("#code_editor_text_value"));navigator.clipboard.writeText(t.getValue()),e.querySelector(".ace-editor-wc-mask").style.display="flex",setTimeout((()=>{e.querySelector(".ace-editor-wc-mask").style.display="none"}),"3000")}(this)))}}function loadAceEditorScripts(e){return new Promise((function(t,i){let o=document.createElement("script");o.src=e,o.async=!1,o.onload=()=>{t(e)},o.onerror=()=>{i(e)},document.body.appendChild(o)}))}async function loadAceEditor(){if(!1===this.isAceLoadedAlready){this.gfgScript.forEach((function(e){this.promiseData.push(loadAceEditorScripts(e))}));return await Promise.all(this.promiseData).then((async function(){return this.isAceLoadedAlready=!0,{loaded:"true"}})).catch((function(e){return console.log(`Ace Editor WC WC Error: ${e} failed to load!`),this.isAceLoadedAlready=!1,{loaded:"false"}}))}}function CreateAceEditor(e,t){ace.config.set("basePath",this.Ace_Editor_Path);const i=e.querySelector("#code_editor_text_value").textContent,o=ace.edit(e.querySelector("#code_editor_text_value"));if(o.$blockScrolling=1/0,e.getAttribute("editor-theme")){null!=ace.require("ace/ext/themelist").themesByName[e.getAttribute("editor-theme").toLowerCase()]?o.setTheme(`ace/theme/${e.getAttribute("editor-theme").toLowerCase()}`):(console.log(`Ace Editor WC WC Error: ${e.getAttribute("editor-theme")} is not a valid theme - setting to default.`),o.setTheme("ace/theme/monokai"))}else o.setTheme("ace/theme/monokai");t&&(null!=ace.require("ace/ext/modelist").modesByName[t]?o.getSession().setMode(`ace/mode/${t}`):console.log(`Ace Editor WC WC Error: Ace Editor Language Mode Could Not Be Found For ${t.charAt(0).toUpperCase()+t.slice(1)}`)),o.setShowPrintMargin(!1),o.setValue(i),o.clearSelection(),o.setOptions({maxLines:1/0})}this.Ace_Editor_Path="https://cdn.jsdelivr.net/npm/ace-min-noconflict@1.1.9/","undefined"!=typeof AceEditorWC_WC_Ace_Editor_Path&&(this.Ace_Editor_Path=AceEditorWC_WC_Ace_Editor_Path),this.gfgScript=[`${this.Ace_Editor_Path}ace.min.js`,`${this.Ace_Editor_Path}ext-modelist.js`,`${this.Ace_Editor_Path}ext-themelist.js`],this.promiseData=[],this.isAceLoadedAlready=!1,window.customElements.define("ace-editor",AceEditorWC);
